 <!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Master Server</title>
<script src="https://cdn.socket.io/socket.io-1.2.0.js"></script>
</head>
<script>
	var route = new Object();
  var socket = io.connect('http://localhost:1978');
  socket.on('connect',function(){
	socket.emit('clientConnect', {name:"webMasterClient"});
  });
  socket.on('data', function(data){
  	route[data.name](data.data);
  });

  send("auth", {name:"zeeman",pass:"123"});

  route.javascript = function(data) {
  	var funs = {};
  	if (data.args) {
	  	funs[data.name] = new Function(data.args,data.fun);
	  } else {
	  	funs[data.name] = new Function(data.fun);
	  }
  	
  	funs.test(1,2,3);
  }

  function send(name, data) {
  	socket.emit("data",{name:name,data:data});
  }
</script>
<body>
Content of the document......
</body>

</html> 